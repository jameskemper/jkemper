<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NCAA Game Predictions</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f7f6;
}
h2 {
    color: #d32f2f;
    text-align: center;
    margin-top: 20px;
    margin-bottom: 20px;
}
table {
    width: 90%;
    margin: 20px auto;
    border-collapse: collapse;
}
th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
}
th {
    background-color: #d32f2f;
    color: white;
}
tr:nth-child(even) {
    background-color: #E1E0E0;
}
.progress-bar-container {
    background-color: #DAD0FF;
    border-radius: 2px;
    width: 100%;
    height: 20px;
}
.progress-bar {
    background-color: #2D04B9;
    height: 100%;
    border-radius: 2px;
}
.filter-container {
    text-align: center; 
    margin-bottom: 20px;
}
img.team-logo {
    height: 50px;
    width: 50px;
    object-fit: contain;
    margin: 0 auto;
    display: block;
}
.team-matchup {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    height: 120px;
}
.vs-text {
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: center;
}
</style>
</head>
<body>
<nav>
    <a href="https://www.myweb.ttu.edu/jkemper/about_NCAA_odds.html" class="active">About the Model</a>
</nav>
<h2>Kemper's NCAA Game Predictions</h2>

<div class="filter-container">
    <label for="dateFilter">&lt;script&gt; document.addEventListener('DOMContentLoaded', function() { const csvUrl = 'https://raw.githubusercontent.com/jameskemper/wreckem_model/main/Data/Predictions/predictions.csv'; const dateFilter = document.getElementById('dateFilter'); const teamFilter = document.getElementById('teamFilter'); const conferenceFilter = document.getElementById('conferenceFilter'); const tableBody = document.getElementById('predictionsTable').getElementsByTagName('tbody')[0]; const uniqueDates = new Set(); const uniqueTeams = new Set(); const uniqueConferences = new Set(); const logoBaseURL = 'https://raw.githubusercontent.com/jameskemper/wreckem_model/main/NCAA_logos/'; function convertTeamNameForURL(name) { let urlName = name.toLowerCase().replace(/\bst\.$/, "state").replace("a&amp;m", "am").replace(/-/g, '').replace(/\s+/g, '').replace("'", ""); if (urlName.startsWith("st.")) { urlName = "saint" + urlName.substring(3); } return urlName; } Papa.parse(csvUrl, { download: true, header: true, complete: function(results) { results.data.forEach(function(row) { if (row.date &amp;&amp; row.team &amp;&amp; row.oppteam &amp;&amp; row.winner &amp;&amp; row.teamconf) { uniqueDates.add(row.date); uniqueTeams.add(row.team); uniqueTeams.add(row.oppteam); uniqueConferences.add(row.teamconf); const teamLogoURL = `${logoBaseURL}${convertTeamNameForURL(row.team)}.png`; const oppTeamLogoURL = `${logoBaseURL}${convertTeamNameForURL(row.oppteam)}.png`; const progressBarWidth = `${parseFloat(row.percentage_sim_win) * 100}%`; const tr = document.createElement('tr'); tr.setAttribute('data-date', row.date); tr.setAttribute('data-team', row.team); tr.setAttribute('data-conference', row.teamconf); tr.innerHTML = `&lt;td&gt;${row.date}&lt;/td&gt; &lt;td&gt; &lt;div class="team-matchup"&gt; &lt;img src="${teamLogoURL}" alt="${row.team}" class="team-logo"&gt; &lt;div class="vs-text"&gt;vs&lt;/div&gt; &lt;img src="${oppTeamLogoURL}" alt="${row.oppteam}" class="team-logo"&gt; &lt;/div&gt; &lt;/td&gt; &lt;td&gt;${row.teamconf}&lt;/td&gt; &lt;td&gt;${row.winner}&lt;/td&gt; &lt;td&gt; &lt;div class="progress-bar-container"&gt; &lt;div class="progress-bar" style="width: ${progressBarWidth};"&gt;&lt;/div&gt; &lt;/div&gt; ${parseFloat(row.percentage_sim_win).toFixed(1)}% &lt;/td&gt;`; tableBody.appendChild(tr); } }); Array.from(uniqueDates).sort().forEach(date =&gt; { const option = new Option(date, date); dateFilter.add(option); }); Array.from(uniqueTeams).sort().forEach(team =&gt; { const option = new Option(team, team); teamFilter.add(option); }); Array.from(uniqueConferences).sort().forEach(conference =&gt; { const option = new Option(conference, conference); conferenceFilter.add(option); }); } }); dateFilter.addEventListener('change', function() { filterTable(); }); teamFilter.addEventListener('change', function() { filterTable(); }); conferenceFilter.addEventListener('change', function() { filterTable(); }); function filterTable() { const selectedDate = dateFilter.value; const selectedTeam = teamFilter.value; const selectedConference = conferenceFilter.value; const rows = tableBody.querySelectorAll('tr'); rows.forEach(row =&gt; { const isDateMatch = selectedDate === "" || row.getAttribute('data-date') === selectedDate; const isTeamMatch = selectedTeam === "" || row.getAttribute('data-team') === selectedTeam || row.cells[1].textContent.includes(selectedTeam); const isConferenceMatch = selectedConference === "" || row.getAttribute('data-conference') === selectedConference; if (isDateMatch &amp;&amp; isTeamMatch &amp;&amp; isConferenceMatch) { row.style.display = ""; } else { row.style.display = "none"; } }); } }); &lt;/script&gt;</label>
    <select id="dateFilter">
      <option value="">All Dates</option>
    </select>
    <label for="teamFilter">Select a Team:</label>
    <select id="teamFilter">
        <option value="">All Teams</option>
    </select>
    <label for="conferenceFilter">Select a Conference:</label>
    <select id="conferenceFilter">
        <option value="">All Conferences</option>
    </select>
</div>

<table id="predictionsTable">
    <thead>
        <tr>
            <th>Date</th>
            <th>Teams</th>
            <th>Conference</th>
            <th>Predicted Winner</th>
            <th>Win Probability</th>
        </tr>
    </thead>
    <tbody>
        <!-- Table rows will be dynamically generated here -->
    </tbody>
</table>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const csvUrl = 'https://raw.githubusercontent.com/jameskemper/wreckem_model/main/Data/Predictions/predictions.csv';
    const dateFilter = document.getElementById('dateFilter');
    const teamFilter = document.getElementById('teamFilter');
    const conferenceFilter = document.getElementById('conferenceFilter');
    const tableBody = document.getElementById('predictionsTable').getElementsByTagName('tbody')[0];
    const uniqueDates = new Set();
    const uniqueTeams = new Set();
    const uniqueConferences = new Set();
    const logoBaseURL = 'https://raw.githubusercontent.com/jameskemper/wreckem_model/main/NCAA_logos/';

    function convertTeamNameForURL(name) {
        let urlName = name.toLowerCase();
        if (urlName.startsWith("st.")) {
            urlName = "saint" + urlName.substring(3);
        } else {
            urlName = urlName.replace(/\bst\.$/, "state");
        }
        urlName = urlName.replace("a&m", "am");
        urlName = urlName.replace(/-/g, '');
        urlName = urlName.replace(/\s+/g, '').replace("'", "");
        return urlName;
    }

    Papa.parse(csvUrl, {
        download: true,
        header: true,
        complete: function(results) {
            results.data.forEach(function(row) {
                if (row.date && row.team && row.oppteam && row.percentage_sim_win && row.teamconf) {
                    uniqueDates.add(row.date);
                    uniqueTeams.add(row.team);
                    uniqueTeams.add(row.oppteam);
                    uniqueConferences.add(row.teamconf);

                    const teamLogoURL = `${logoBaseURL}${convertTeamNameForURL(row.team)}.png`;
                    const oppTeamLogoURL = `${logoBaseURL}${convertTeamNameForURL(row.oppteam)}.png`;
                    const predictedWinner = parseFloat(row.percentage_sim_win) >= 0.5 ? row.team : row.oppteam;
                    const winProb = parseFloat(row.percentage_sim_win) * 100;
                    const progressBarWidth = `${winProb}%`;

                    const tr = document.createElement('tr');
                    tr.setAttribute('data-date', row.date);
                    tr.setAttribute('data-team', row.team);
                    tr.setAttribute('data-conference', row.teamconf);
                    tr.innerHTML = `<td>${row.date}</td>
                                    <td>
                                        <div class="team-matchup">
                                            <img src="${teamLogoURL}" alt="${row.team}" class="team-logo">
                                            <div class="vs-text">vs</div>
                                            <img src="${oppTeamLogoURL}" alt="${row.oppteam}" class="team-logo">
                                        </div>
                                    </td>
                                    <td>${row.teamconf}</td>
                                    <td>${predictedWinner}</td>
                                    <td>
                                        <div class="progress-bar-container">
                                            <div class="progress-bar" style="width: ${progressBarWidth};"></div>
                                        </div>
                                        ${winProb.toFixed(1)}%
                                    </td>`;
                    tableBody.appendChild(tr);
                }
            });

            Array.from(uniqueDates).sort().forEach(date => {
                const option = new Option(date, date);
                dateFilter.add(option);
            });

            Array.from(uniqueTeams).sort().forEach(team => {
                const option = new Option(team, team);
                teamFilter.add(option);
            });

            Array.from(uniqueConferences).sort().forEach(conference => {
                const option = new Option(conference, conference);
                conferenceFilter.add(option);
            });
        }
    });

    dateFilter.addEventListener('change', function() {
        filterTable();
    });

    teamFilter.addEventListener('change', function() {
        filterTable();
    });

    conferenceFilter.addEventListener('change', function() {
        filterTable();
    });

    function filterTable() {
        const selectedDate = dateFilter.value;
        const selectedTeam = teamFilter.value;
        const selectedConference = conferenceFilter.value;
        const rows = tableBody.querySelectorAll('tr');
        rows.forEach(row => {
            const isDateMatch = selectedDate === "" || row.getAttribute('data-date') === selectedDate;
            const isTeamMatch = selectedTeam === "" || row.getAttribute('data-team') === selectedTeam || row.cells[1].textContent.includes(selectedTeam);
            const isConferenceMatch = selectedConference === "" || row.getAttribute('data-conference') === selectedConference;
            if (isDateMatch && isTeamMatch && isConferenceMatch) {
                row.style.display = "";
            } else {
                row.style.display = "none";
            }
        });
    }
});
</script>
</body>
</html>
